"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const translation_collection_1 = require("../utils/translation.collection");
const utils_1 = require("../utils/utils");
class PipeParser {
    extract(template, path) {
        if (path && utils_1.isPathAngularComponent(path)) {
            template = utils_1.extractComponentInlineTemplate(template);
        }
        return this.parseTemplate(template);
    }
    parseTemplate(template) {
        let collection = new translation_collection_1.TranslationCollection();
        const regExp = /(['"`])((?:(?!\1).|\\\1)+)\1\s*\|\s*translate/g;
        let matches;
        while (matches = regExp.exec(template)) {
            collection = collection.add(matches[2].split('\\\'').join('\''));
        }
        return collection;
    }
}
exports.PipeParser = PipeParser;
//# sourceMappingURL=pipe.parser.js.map